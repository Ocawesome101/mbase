<html><title>man/users.2</title><body><div style="width:80ch;"><pre><span style="color:000000;font-weight:bold;">NAME</span>
        users - kernel-level user management API

<span style="color:000000;font-weight:bold;">DESCRIPTION
        users</span> (<span style="color:000000;font-weight:bold;">kernel.users</span> in the environment provided to <span style="color:000000;font-weight:bold;">init</span>(<span style="color:000000;font-weight:bold;">1</span>)) is Mo
nolith's user management API.  The version provided to <span style="color:000000;font-weight:bold;">init</span> is largely a shell
, and is later complemented by the userspace API <span style="color:000000;font-weight:bold;">users</span>(<span style="color:000000;font-weight:bold;">3</span>).  Note that the ke
rnel-based <span style="color:000000;font-weight:bold;">users</span> API does NOT resolve usernames to UIDs; for that, see <span style="color:000000;font-weight:bold;">users</span>
(<span style="color:000000;font-weight:bold;">3</span>).

        <span style="color:000000;font-weight:bold;">kernel.users</span> is not directly accessible from user programs.

<span style="color:000000;font-weight:bold;">METHODS
        authenticate</span>(<span style="color:000000;font-weight:bold;">uid</span>:<span style="color:DDDD00;font-weight:bold;">number</span>, <span style="color:000000;font-weight:bold;">password</span>:<span style="color:FF0000;font-weight:bold;">string</span>): <span style="color:FF00FF;font-weight:bold;">boolean</span>[, <span style="color:FF0000;font-weight:bold;">string</span>
]
                Attempts to authenticate the current process as <span style="color:DDDD00;font-weight:bold;">uid</span>.  Returns 
<span style="color:FF00FF;font-weight:bold;">true</span> on success, <span style="color:FF00FF;font-weight:bold;">false</span> and an error message on failure.

        <span style="color:000000;font-weight:bold;">login</span>(<span style="color:000000;font-weight:bold;">uid</span>:<span style="color:DDDD00;font-weight:bold;">number</span>, <span style="color:000000;font-weight:bold;">password</span>:<span style="color:FF0000;font-weight:bold;">string</span>): <span style="color:FF00FF;font-weight:bold;">boolean</span>[, <span style="color:FF0000;font-weight:bold;">string</span>]
                Attempts to login the current process as <span style="color:DDDD00;font-weight:bold;">uid</span>. Returns <span style="color:FF00FF;font-weight:bold;">true</span> o
n success, <span style="color:FF00FF;font-weight:bold;">false</span> and an error message on failure.

        <span style="color:000000;font-weight:bold;">uid</span>(): <span style="color:DDDD00;font-weight:bold;">number</span>
                Returns the current UID.

        <span style="color:000000;font-weight:bold;">add</span>(<span style="color:000000;font-weight:bold;">password</span>:<span style="color:FF0000;font-weight:bold;">string</span>[, <span style="color:000000;font-weight:bold;">cansudo</span>:<span style="color:FF00FF;font-weight:bold;">boolean</span>]): <span style="color:DDDD00;font-weight:bold;">number</span> or <span style="color:000000;font-weight:bold;">nil</span>, <span style="color:FF0000;font-weight:bold;">s
tring</span>
                Attempts to add a user, returning the new user's UID.  Only the 
root user can perform this function.

        <span style="color:000000;font-weight:bold;">del</span>(<span style="color:000000;font-weight:bold;">uid</span>:<span style="color:DDDD00;font-weight:bold;">number</span>): <span style="color:FF00FF;font-weight:bold;">boolean</span> or <span style="color:000000;font-weight:bold;">nil</span>, <span style="color:FF0000;font-weight:bold;">string</span>
                Attempts to delete user <span style="color:DDDD00;font-weight:bold;">uid</span>.  Only the root user can perform t
his function.

        <span style="color:000000;font-weight:bold;">sudo</span>(<span style="color:000000;font-weight:bold;">func</span>:<span style="color:00AAFF;font-weight:bold;">function</span>, <span style="color:000000;font-weight:bold;">uid</span>:<span style="color:DDDD00;font-weight:bold;">number</span>, <span style="color:000000;font-weight:bold;">password</span>:<span style="color:FF0000;font-weight:bold;">string</span>): <span style="color:FF00FF;font-weight:bold;">boolean
</span>, <span style="color:FF00FF;font-weight:bold;">boolean</span>, ... or <span style="color:000000;font-weight:bold;">nil</span>, <span style="color:FF0000;font-weight:bold;">string</span>
                Attempts to execute function <span style="color:00AAFF;font-weight:bold;">func</span> as user <span style="color:DDDD00;font-weight:bold;">uid</span>.  <span style="color:FF0000;font-weight:bold;">password</span> s
hould be the current user's password.

                On success, returns <span style="color:FF00FF;font-weight:bold;">true</span> and the first two results from <span style="color:000000;font-weight:bold;">pcall
</span>(<span style="color:00AAFF;font-weight:bold;">func</span>).

<span style="color:000000;font-weight:bold;">NOTES</span>
        All <span style="color:000000;font-weight:bold;">users</span> functions are overwritten in userspace by the <span style="color:000000;font-weight:bold;">users</span>(<span style="color:000000;font-weight:bold;">3</span>) A
PI.  This API is usually only relevant to kernel or <span style="color:000000;font-weight:bold;">init</span>(<span style="color:000000;font-weight:bold;">1</span>,<span style="color:000000;font-weight:bold;">5</span>) development.

<span style="color:000000;font-weight:bold;">COPYRIGHT
        Monolith Kernel Interfaces</span> (c) 2020 Ocawesome101 under the GNU GPLv3.

<span style="color:000000;font-weight:bold;">SEE ALSO
        usermgr</span>(<span style="color:000000;font-weight:bold;">1</span>), <span style="color:000000;font-weight:bold;">users</span>(<span style="color:000000;font-weight:bold;">3</span>), <span style="color:000000;font-weight:bold;">init</span>(<span style="color:000000;font-weight:bold;">1</span>), <span style="color:000000;font-weight:bold;">init</span>(<span style="color:000000;font-weight:bold;">5</span>)

</pre></div></body></html>